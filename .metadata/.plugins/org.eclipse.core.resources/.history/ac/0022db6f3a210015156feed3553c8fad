package application;
import javafx.beans.value.ChangeListener;
import javafx.beans.value.ObservableValue;
import javafx.concurrent.Worker.State;
import javafx.scene.control.Tab;
import javafx.scene.control.TextField;
import javafx.scene.web.WebView;
import javafx.scene.web.WebEngine;
public class CostomWebView {
	WebView web = new WebView();
	TextField urlField;
	Tab tab;
	
	CostomWebView(){
		
		AddListeners();
	}
	void AddListeners(){
		web.getEngine().getLoadWorker().stateProperty().addListener(
		        new ChangeListener<State>() {
		            public void changed(ObservableValue ov, State oldState, State newState) {
		                if (newState == State.SUCCEEDED) {
		                	urlField.setText(web.getEngine().getLocation());
		                	String title = web.getEngine().getTitle();
		                	if (title.length() > 10){
		                		title = title.substring(0,9);
		                	}
		                	tab.setText(title);
		                }
		            }
		        });
	}

}
